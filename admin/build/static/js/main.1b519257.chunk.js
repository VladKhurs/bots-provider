(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,n,t){"use strict";t.r(n),t.d(n,"Context",(function(){return Ie}));var r=t(1),c=t(0),a=t(26),s=t.n(a),i=t(19),u=t(28),o=t(9),l="/clients",d="/bots",j="/history",f="/login",h="/",b=t(5),x=t.n(b),p=t(8),O=t(69),m=t(114),v=t(17),g=t(70),k=t(34),I=t(55),w=t.n(I),y=w.a.create({baseURL:"http://localhost:5000/"}),F=w.a.create({baseURL:"http://localhost:5000/"});F.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat(localStorage.getItem("token")),e}));var T,C=t(24),N=function(){var e=Object(p.a)(x.a.mark((function e(n,t){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/admin/login",{login:n,password:t});case 2:return r=e.sent,c=r.data,localStorage.setItem("token",c.token),e.abrupt("return",Object(C.a)(c.token));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("api/admin/auth");case 2:return n=e.sent,t=n.data,localStorage.setItem("token",t.token),e.abrupt("return",Object(C.a)(t.token));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=t(21),H=t(37),E=t.n(H)()((function(e,n){return{bears:0,tarifInfo:"",purchasedFunctions:"",extraFunctionsToBuy:" ",allTarifs:"",bankInfo:"",extraFunctions:"",isChanged:"",allUserInfos:"",adminInfo:"",allTarifsIds:"",isAuth:"",user:"",increasePopulation:function(){return e((function(e){return{bears:e.bears+1}}))},removeBear:function(){return e((function(e){return{bears:e.bears-1}}))},removeAllBears:function(){return e({bears:0})},setTarifInfo:function(n){return e((function(){return{tarifInfo:n}}))},getTarifInfo:function(){return n().tarifInfo},setPurchasedFunctions:function(n){return e((function(){return{purchasedFunctions:n}}))},getPurchasedFunctions:function(){return n().purchasedFunctions},setExtraFunctionsToBuy:function(n){return e((function(){return{extraFunctionsToBuy:n}}))},getExtraFunctionsToBuy:function(){return n().extraFunctionsToBuy},setAllTarifs:function(n){return e((function(){return{allTarifs:n}}))},getAllTarifs:function(){return n().allTarifs},setBankInfo:function(n){return e((function(){return{bankInfo:n}}))},getBankInfo:function(){return n().bankInfo},setExtraFunctions:function(n){return e((function(){return{extraFunctions:n}}))},getExtraFunctions:function(){return n().extraFunctions},setIsChanged:function(n){return e((function(){return{isChanged:n}}))},getIsChanged:function(){return n().isChanged},setAllUserInfos:function(n){return e((function(){return{allUserInfos:n}}))},getAllUserInfos:function(){return n().allUserInfos},setAdminInfo:function(n){return e((function(){return{adminInfo:n}}))},getAdminInfo:function(){return n().adminInfo},setAllTarifsIds:function(n){return e((function(){return{allTarifsIds:n}}))},getAllTarifsIds:function(){return n().allTarifsIds},setUser:function(n){return e((function(){return{user:n}}))},getUser:function(){return n().user},setIsAuth:function(n){return e((function(){return{isAuth:n}}))},getIsAuth:function(){return n().isAuth}}})),U=Object(A.a)((function(){var e=E((function(e){return e.user})),n=E(),t=n.setUser,a=n.setIsAuth,s=n.setAdminInfo,u=Object(o.h)(),l=Object(o.g)(),d=(u.pathname,Object(c.useState)("")),j=Object(i.a)(d,2),f=j[0],b=j[1],I=Object(c.useState)(""),w=Object(i.a)(I,2),y=w[0],F=w[1],T=function(){var n=Object(p.a)(x.a.mark((function n(){var r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log("login, password",f,y),n.next=4,N(f,y);case 4:r=n.sent,t(e),a(!0),console.log("loginAdmin",r),s({id:r.id,login:r.login}),l.push(h),console.log("data",r),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),alert(n.t0.response.data.message),console.log("error",n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(O.a,{className:"d-flex justify-content-center align-items-center",style:{height:window.innerHeight-54},children:Object(r.jsxs)(v.a,{style:{width:600},className:"p-5",children:[Object(r.jsx)("h2",{className:"m-auto",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(r.jsxs)(m.a,{className:"d-flex flex-column",children:[Object(r.jsx)(m.a.Control,{className:"mt-3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 login...",value:f,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)(m.a.Control,{className:"mt-3",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c...",value:y,onChange:function(e){return F(e.target.value)},type:"password"}),Object(r.jsx)(k.a,{className:"d-flex justify-content-between mt-3 pl-3 pr-3",children:Object(r.jsx)(g.a,{variant:"outline-success",onClick:T,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})})),S=t(73),_=t(58),L=Object(A.a)((function(){var e=E((function(e){return e.isAuth})),n=E(),t=n.setUser,c=n.setIsAuth,a=Object(o.g)();return Object(r.jsx)(S.a,{bg:"dark",variant:"dark",children:Object(r.jsxs)(O.a,{style:{display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center",justifyContent:"center"},children:[Object(r.jsx)(u.b,{style:{color:"white"},to:h,children:"LoyBOT"}),e?Object(r.jsxs)(_.a,{style:{margin:"0 auto",color:"white",display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center",justifyContent:"center"},children:[Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.push(h)},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.push(l)},children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"}),Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.push(d)},children:"\u0411\u043e\u0442\u044b"}),Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.push(j)},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"}),Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return t({}),void c(!1)},className:"ml-2",children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(r.jsx)(_.a,{className:"ml-auto",style:{color:"white"},children:Object(r.jsx)(g.a,{variant:"outline-light",onClick:function(){return a.push(f)},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})})]})})})),P=function(){return Object(r.jsxs)(O.a,{className:"d-flex flex-column",children:[Object(r.jsx)("div",{className:"h2 text-center mt-4",children:"\u0420\u0430\u0437\u0434\u0435\u043b\u044b"}),Object(r.jsx)(L,{})]})},J=t(71),D=function(){var e=Object(p.a)(x.a.mark((function e(n,t,r,c,a){var s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/history/",{date:n,time:t,managerLogin:r,operation:c,adminId:a});case 2:return s=e.sent,i=s.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r,c,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("api/history/all");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.useState)(""),n=Object(i.a)(e,2),t=n[0],a=n[1];return Object(c.useEffect)(Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R();case 3:n=e.sent,a(n),console.log("history",n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]),Object(r.jsxs)(O.a,{className:"d-flex flex-column",children:[Object(r.jsx)("div",{className:"h3",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439"}),Object(r.jsx)(k.a,{className:"mt-2",children:""===t?Object(r.jsx)("div",{children:"Loading..."}):t===[]?Object(r.jsx)("div",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}):Object(r.jsx)("div",{children:Object(r.jsxs)(J.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"mr-3",children:"id"}),Object(r.jsx)("th",{className:"mr-3",children:"\u0414\u0430\u0442\u0430"}),Object(r.jsx)("th",{className:"mr-3",children:"\u0412\u0440\u0435\u043c\u044f"}),Object(r.jsx)("th",{className:"mr-3",children:"\u041b\u043e\u0433\u0438\u043d \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430"}),Object(r.jsx)("th",{className:"mr-3",children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:e.date}),Object(r.jsx)("td",{children:e.time}),Object(r.jsx)("td",{children:e.managerLogin}),Object(r.jsx)("td",{children:e.operation})]})}))})]})})})]})},q=t(16),z=Object(H.create)((function(e){return{tasks:[{title:"TestTask",state:"PLANNED"}],addTask:function(n,t){return e((function(e){return{tasks:[].concat(Object(q.a)(e.tasks),[{title:n,state:t}])}}))}}})),G=(t(108),function(e){var n=e.title,t=z((function(e){return e.tasks.find((function(e){return e.title===n}))}));return Object(r.jsx)("div",{children:t.title})}),K=function(e){var n=e.state,t=z((function(e){return e.addTask})),c=z((function(e){return e.tasks}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:n}),c.map((function(e){return Object(r.jsx)(G,{title:e.title},e.title)})),Object(r.jsx)("button",{onClick:function(){t("asdf"+n,n)},children:"Add"})]})},M=function(){return Object(r.jsxs)(O.a,{className:"d-flex flex-column",children:[Object(r.jsx)("div",{className:"h2 text-center mt-4",children:"Bots"}),Object(r.jsx)(K,{})]})};function Q(){for(var e=E((function(e){return e.bears})),n=[],t=0;t<e;t++)n.push(Object(r.jsx)("span",{children:"\ud83d\udc3b"}));return Object(r.jsx)("div",{children:n})}function V(){return T=E((function(e){return e.bears})),console.log(T),Object(r.jsxs)("p",{children:[T," bears in the forest"]})}function X(){var e=E().increasePopulation,n=E((function(e){return e.adminInfo})),t=E().setAdminInfo;return Object(c.useEffect)((function(){t(Date.now())}),[]),console.log("adminInfo!!!",n),Object(r.jsx)("button",{onClick:function(){return e()},children:"Add bear"})}function Y(){var e=E((function(e){return e.removeBear}));return Object(r.jsx)("button",{onClick:function(){return e()},children:"Remove bear"})}function Z(){var e=E((function(e){return e.removeAllBears}));return Object(r.jsx)("button",{onClick:function(){return e()},children:"Nuke all bears"})}var $=function(){var e=Object(p.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("api/user_info/all");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/tarif/one",{tarifId:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=Object(p.a)(x.a.mark((function e(){var n,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("api/tarif/all");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=Object(A.a)((function(){var e=Object(o.g)(),n=(Object(C.a)(localStorage.getItem("token")),E((function(e){return e.allTarifs}))),t=E((function(e){return e.allUserInfos})),a=E((function(e){return e.allTarifsIds})),s=E(),i=s.setAllUserInfos,u=s.setAllTarifs,l=s.setAllTarifsIds;return Object(c.useEffect)(Object(p.a)(x.a.mark((function e(){var n,t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:return n=e.sent,i(n),e.next=7,ne();case 7:t=e.sent,r=t.map((function(e){return e.id})),l(r),u(t),console.log("allTarifs",t,a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[]),Object(r.jsx)(O.a,{children:Object(r.jsx)(k.a,{className:"mt-2",children:""===t||""===a||""===n?Object(r.jsx)("div",{children:"Loading..."}):0===t.length?Object(r.jsx)("div",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}):Object(r.jsx)("div",{children:Object(r.jsxs)(J.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"mr-3",children:"id"}),Object(r.jsx)("th",{className:"mr-3",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"}),Object(r.jsx)("th",{className:"mr-3",children:"\u0422\u0430\u0440\u0438\u0444"})]})}),Object(r.jsx)("tbody",{children:t.map((function(t){var c=a.indexOf(t.tarifId),s=n[c].name;return console.log("tarifName",s),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.id}),Object(r.jsx)("td",{children:t.companyName}),Object(r.jsx)("td",{children:s}),Object(r.jsxs)("td",{children:[" ",Object(r.jsx)(g.a,{variant:"dark",onClick:function(){return e.push("/client/"+t.id)},children:"\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"})]})]})}))})]})})})})})),re=t(38),ce=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/user_bank/one",{userId:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ae=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/user_bank/purchased_function/all",{userBankId:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(x.a.mark((function e(n,t){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("api/user_bank/tarif",{userId:n,tarifId:t});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(p.a)(x.a.mark((function e(n,t){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/user_bank/purchased_function",{userBankId:n,extraFunctionId:t});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(x.a.mark((function e(n,t){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/user_bank/purchased_function/delete",{userBankId:n,extraFunctionId:t});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("api/extra_function/all_where_tarif",{tarifId:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),le=t(12),de=function(e){var n=e.show,t=e.onHide,c=e.price,a=e.name,s=e.userBankId,i=e.extraFunctionId,u=E((function(e){return e.purchasedFunctions})),o=E((function(e){return e.extraFunctions})),l=E(),d=l.setPurchasedFunctions,j=l.setExtraFunctionsToBuy,f=function(){var e=Object(p.a)(x.a.mark((function e(){var n,r,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(s,i);case 2:n=e.sent,console.log("buyExtraFunction",n),r=[].concat(Object(q.a)(u),[n]),d(Object(q.a)(r)),c=u.map((function(e){return e.extraFunctionId})),a=o.filter((function(e,n){return!c.includes(e.id)})),j(a),t();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(le.a,{show:n,onHide:t,centered:!0,children:[Object(r.jsx)(le.a.Header,{closeButton:!0,children:Object(r.jsxs)(le.a.Title,{id:"contained-modal-title-vcenter",children:['\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u043b\u044c\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e "',a,'"']})}),Object(r.jsxs)(le.a.Body,{children:["\u0426\u0435\u043d\u0430 \u0434\u043e\u043f\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438: ",c," \u0443\u0435"]}),Object(r.jsxs)(le.a.Footer,{children:[Object(r.jsx)(g.a,{variant:"outline-danger",onClick:t,children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"}),Object(r.jsx)(g.a,{variant:"outline-success",onClick:f,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})},je=function(e){var n=e.bankInfo,t=E((function(e){return e.purchasedFunctions})),a=E((function(e){return e.extraFunctions})),s=t.map((function(e){return e.extraFunctionId})),u=a.filter((function(e,n){return!s.includes(e.id)})),o=Object(c.useState)(u.map((function(){return!1}))),l=Object(i.a)(o,2),d=l[0],j=l[1];return Object(r.jsx)(O.a,{children:0===u.length?Object(r.jsx)("div",{children:"\u0412\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438"}):Object(r.jsx)(k.a,{children:u.map((function(e,t){return Object(r.jsx)(re.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsx)(v.a.Header,{as:"h5",children:e.name}),Object(r.jsxs)(v.a.Body,{children:[Object(r.jsx)(v.a.Title,{children:e.price}),Object(r.jsx)(v.a.Text,{children:e.description}),Object(r.jsx)(g.a,{variant:"dark",onClick:function(){return function(e){var n=Object(q.a)(d);n[e]=!0,j(n)}(t)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e"}),Object(r.jsx)(de,{show:d[t],onHide:function(){return function(e){var n=Object(q.a)(d);n[e]=!1,j(n)}(t)},price:e.price,userBankId:n.id,extraFunctionId:e.id,name:e.name})]})]})},t)}))})})},fe=function(e){var n=e.show,t=e.onHide,c=e.price,a=e.period,s=e.userId,i=e.tarifId,u=E((function(e){return e.tarifInfo})),o=E().setIsChanged,l=function(){var e=Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(s,i);case 2:n=e.sent,console.log("tarifId",i),console.log("tarifId data",n),t(),o(Date.now());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(le.a,{show:n,onHide:t,centered:!0,children:[Object(r.jsx)(le.a.Header,{closeButton:!0,children:Object(r.jsxs)(le.a.Title,{id:"contained-modal-title-vcenter",children:['\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0430\u0440\u0438\u0444\u0430 "',u.name,'": ',c," \u0443\u0435"]})}),Object(r.jsxs)(le.a.Body,{children:["\u041f\u0435\u0440\u0438\u043e\u0434 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0442\u0430\u0440\u0438\u0444\u0430: ",a," \u0434\u043d\u0435\u0439"]}),Object(r.jsxs)(le.a.Footer,{children:[Object(r.jsx)(g.a,{variant:"outline-danger",onClick:t,children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"}),Object(r.jsx)(g.a,{variant:"outline-success",onClick:l,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})},he=function(e){var n=e.e,t=e.bankInfo,a=Object(c.useState)(!1),s=Object(i.a)(a,2),u=s[0],o=s[1],l=(E().setTarifInfo,E((function(e){return e.tarifInfo})));return console.log("eee",n),console.log("tarifInfoeee",l),Object(r.jsxs)(v.a,{className:"mb-4",children:[Object(r.jsxs)(v.a.Header,{as:"h5",children:[n.name," \u0442\u0430\u0440\u0438\u0444"]}),Object(r.jsxs)(v.a.Body,{children:[Object(r.jsxs)(v.a.Title,{children:["\u0426\u0435\u043d\u0430: ",n.price," \u0435\u0443"]}),Object(r.jsx)(v.a.Text,{children:n.description}),""===l?Object(r.jsx)(v.a.Text,{children:"Loading..."}):l.name===n.name?Object(r.jsx)(g.a,{variant:"outline-dark",disabled:!0,className:"mb-4 mt-4",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0442\u0430\u0440\u0438\u0444"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(g.a,{variant:"dark",className:"mb-4 mt-4 p-2",onClick:function(){return o(!0)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444"}),Object(r.jsx)(fe,{show:u,onHide:function(){return o(!1)},price:n.price,period:n.period,userId:t.id,tarifId:n.id,bankInfo:t})]}),null===n.functions?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a.Title,{children:"\u0424\u0443\u043d\u043a\u0446\u0438\u0438\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0435 \u0432 \u0442\u0430\u0440\u0438\u0444: "}),JSON.parse(n.functions).map((function(e){return Object(r.jsxs)(v.a.Text,{children:[e.name,": ",e.description]})}))]}),null===n.limits?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)(v.a.Title,{className:"h6",children:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0442\u0430\u0440\u0438\u0444\u0430"}),JSON.parse(n.limits).map((function(e){return Object(r.jsxs)(v.a.Text,{children:[e.name,": ",e.value]})}))]})]})]})},be=function(e){var n=e.show,t=e.onHide,c=e.name,a=e.description,s=e.userBankId,i=e.extraFunctionId,u=E((function(e){return e.adminInfo})),o=E((function(e){return e.purchasedFunctions})),l=E().setPurchasedFunctions,d=function(){var e=Object(p.a)(x.a.mark((function e(){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(s,i);case 2:return n=e.sent,r={login:u.login,id:u.id},e.next=6,D("date","time",r.login,"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e",r.id);case 6:c=o.filter((function(e){return e.id!==n.id})),l(Object(q.a)(c)),console.log("purchasedFunctions1",c),console.log("data",n),t();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(le.a,{show:n,onHide:t,centered:!0,children:[Object(r.jsx)(le.a.Header,{closeButton:!0,children:Object(r.jsxs)(le.a.Title,{id:"contained-modal-title-vcenter",children:['\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e "',c,'"']})}),Object(r.jsx)(le.a.Body,{children:a}),Object(r.jsxs)(le.a.Footer,{children:[Object(r.jsx)(g.a,{variant:"outline-danger",onClick:t,children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"}),Object(r.jsx)(g.a,{variant:"outline-success",onClick:d,children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c"})]})]})},xe=function(){var e=E((function(e){return e.extraFunctions})),n=E((function(e){return e.purchasedFunctions})),t=E((function(e){return e.bankInfo})),a=Object(q.a)(e),s=n.map((function(e){return e.extraFunctionId})),u=a.filter((function(e,n){return s.includes(e.id)})),o=t,l=Object(c.useState)(a.map((function(){return!1}))),d=Object(i.a)(l,2),j=d[0],f=d[1];return Object(r.jsx)(k.a,{children:u.map((function(e,n){return Object(r.jsx)(re.a,{children:Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(v.a.Header,{as:"h5",children:['\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e "',e.name,'"']}),Object(r.jsxs)(v.a.Body,{children:[Object(r.jsx)(v.a.Text,{children:e.description}),Object(r.jsx)(g.a,{variant:"dark",onClick:function(){return function(e){var n=Object(q.a)(j);n[e]=!0,f(n)}(n)},children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c"}),Object(r.jsx)(be,{show:j[n],onHide:function(){return function(e){var n=Object(q.a)(j);n[e]=!1,f(n)}(n)},price:e.price,userBankId:o.id,extraFunctionId:e.id,name:e.name,description:e.description})]})]})},n)}))})},pe=Object(A.a)((function(){var e=Object(o.i)().id,n=E((function(e){return e.bankInfo})),t=E((function(e){return e.purchasedFunctions})),a=E((function(e){return e.extraFunctionsToBuy})),s=E((function(e){return e.extraFunctions})),i=E((function(e){return e.tarifInfo})),u=E((function(e){return e.allTarifs})),l=E((function(e){return e.isChanged})),d=E(),j=d.setPurchasedFunctions,f=d.setBankInfo,h=d.setTarifInfo,b=d.setExtraFunctions,m=d.setAllTarifs;return Object(c.useEffect)(Object(p.a)(x.a.mark((function n(){var t,r,c,a,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae(e);case 3:return t=n.sent,j(t),n.next=7,ce(e);case 7:return r=n.sent,f(r),n.next=11,ee(r.tarifId);case 11:return c=n.sent,h(c),n.next=15,oe(r.tarifId);case 15:return a=n.sent,b(a),n.next=19,ne();case 19:s=n.sent,m(s),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),console.error(n.t0);case 26:case"end":return n.stop()}}),n,null,[[0,23]])}))),[l]),Object(r.jsxs)(O.a,{children:[""===t?Object(r.jsx)("div",{children:"Loading..."}):0===t.length?Object(r.jsx)(r.Fragment,{}):Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"h5 mt-4",children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438: "}),Object(r.jsx)(xe,{})]}),Object(r.jsx)("div",{className:"h5 mt-4 mb-4",children:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438: "}),0===a.length?Object(r.jsx)("div",{children:"\u0412\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438"}):0===s.length?Object(r.jsxs)("div",{children:['\u041d\u0430 \u0432\u0430\u0448\u0435\u043c \u0442\u0430\u0440\u0438\u0444\u0435 "',i.name,'" \u043d\u0435\u043b\u044c\u0437\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438']}):Object(r.jsx)(je,{extraFunctions:s,bankInfo:n}),Object(r.jsx)("div",{className:"h5 m-4 d-flex",children:"\u0414\u043e\u0441\u0442\u0443\u0440\u043d\u044b\u0435 \u0442\u0430\u0440\u0438\u0444\u044b"}),""===u?Object(r.jsx)("div",{children:"Loading..."}):Object(r.jsx)(k.a,{children:u.map((function(e){return Object(r.jsx)(re.a,{children:Object(r.jsx)(he,{e:e,bankInfo:n})})}))})]})})),Oe=[{path:h,Component:P},{path:l,Component:te},{path:d,Component:M},{path:"/bears",Component:function(){return E((function(e){return e.increasePopulation})),Object(r.jsxs)("div",{children:[Object(r.jsx)(V,{}),Object(r.jsxs)("div",{class:"actions",children:[0!=E((function(e){return e.bears}))?Object(r.jsx)(Y,{}):null,Object(r.jsx)(X,{}),0!=E((function(e){return e.bears}))?Object(r.jsx)(Z,{}):null]}),Object(r.jsx)("br",{}),Object(r.jsx)(Q,{})]})}},{path:j,Component:W},{path:"/client/:id",Component:pe}],me=[{path:f,Component:U}],ve=Object(A.a)((function(){var e=E((function(e){return e.isAuth}));return Object(r.jsxs)(o.d,{children:[e&&Oe.map((function(e){var n=e.path,t=e.Component;return Object(r.jsx)(o.b,{path:n,component:t,exact:!0},n)})),me.map((function(e){var n=e.path,t=e.Component;return Object(r.jsx)(o.b,{path:n,component:t,exact:!0},n)})),Object(r.jsx)(o.a,{to:h})]})})),ge=t(113),ke=Object(A.a)((function(){var e=E(),n=e.setUser,t=e.setIsAuth,a=Object(c.useState)(!0),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){B().then((function(e){n(!0),t(!0)})).finally((function(){return l(!1)}))}),[]),o?Object(r.jsx)(ge.a,{animation:"grow"}):Object(r.jsxs)(u.a,{children:[Object(r.jsx)(L,{}),Object(r.jsx)(ve,{})]})})),Ie=Object(c.createContext)(null);s.a.render(Object(r.jsx)(ke,{}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.1b519257.chunk.js.map